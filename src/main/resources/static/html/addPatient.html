<meta meta charset=utf-8>
	<div class="main-header">
		<div class="container">
			<span class="page-title">{{'addPatient.add_patient' | translation}}</span>
		</div>
	</div>
	<div class="container">
		<form class="form-horizontal" name="addPatientForm" novalidate>
			<div class="row">
				<div class="col-md-offset-2 col-md-4">
					<div class="form-group">
						<div class="alert alert-success" ng-show="successAddPatient">
							  <strong>{{'commons.success' | translation}}</strong> {{'addPatient.correct_add_patient' | translation}}
						</div>
					</div>
						<div class="form-group">
							<label for="firstname" >{{'commons.firstname' | translation}}:<span class="required">*</span></label>
							<input
								name="firstname"
								required="required" 
								placeholder="{{'commons.firstname' | translation}}"
								id="firstname" 
								value=""
								type="text" 
								required
								ng-model="patient.firstname"
								ng-minlength="3" ng-maxlength="10"
								ng-class="{submitted:addPatientForm.submitted}"
							/>
	        				<span 
	        					ng-show="addPatientForm.firstname.$error.required && addPatientForm.submitted" 
	        					style="color : #f00; float:left;"
	        					>{{'commons.firstname_is_required' | translation}}
	        				</span>
	        				<span 
	        					ng-show="addPatientForm.firstname.$error.minlength && addPatientForm.submitted" 
	        					style="color : #f00; float:left;"
	        					>{{'addPatient.for_short_firstname' | translation}}
	        				</span>
	        				<span 
	        					ng-show="addPatientForm.firstname.$error.maxlength && addPatientForm.submitted" 
	        					style="color : #f00; float:left;"
	        					>{{'addPatient.for_long_firstname' | translation}}
	        				</span>
						</div>
						
						<div class="form-group">
								<label for="lastname" 
								>{{'commons.lastname' | translation}}:<span class="required">*</span></label> 
								<input
									name="lastname"
									required="required"
									placeholder="{{'commons.lastname' | translation}}" 
									id="lastname" 
									value="" 
									type="text"
									ng-model="patient.lastname"
									ng-class="{submitted:addPatientForm.submitted}"
								/>
								<span 
									ng-show="addPatientForm.lastname.$error.required && addPatientForm.submitted" 
									style="color : #f00; float:left;"
									>{{'commons.lastname_is_required' | translation}}
								</span>
						</div>
						
						<div class="form-group">
						  <label for="birthDate">{{'commons.date_of_birth' | translation}}:<span class="required">*</span></label>  
<!-- 						  <div class="col-md-6"> -->
							  <div class="input-group">
									<span class="input-group-btn" id="spanDate">
							            <button 
							            	type="button" 
							            	class="btn btn-default" 
							            	ng-click="open1()">
							            	<i class="glyphicon glyphicon-calendar"></i>
							            </button>
							          </span>
									<input type="text" 
										class="form-control" 
										ng-change="getDate()" 
										uib-datepicker-popup="{{format}}"
										ng-model="patient.birthDate" 
										is-open="popup1.opened" 
										ng-model-options="{timezone: 'utc'}"
										datepicker-options="dateOptions" 
										ng-required="true" 
										close-text="Close" 
										alt-input-formats="altInputFormats" 
										required
										name="dateField"
										ng-class="{submitted:addPatientForm.submitted}"
									/>
							 </div>
							 <span 
								ng-show="addPatientForm.dateField.$error.required && addPatientForm.submitted" 
								style="color : #f00; float:left;"
								>{{'commons.date_of_birth_required' | translation}}
							</span>
							<span 
		       					ng-show="addPatientForm.dateField.$error.date && addPatientForm.submitted"
		       					style="color : #f00; float:left;"
		       					>{{'commons.incorrect_date' | translation}}
		       				</span>
<!-- 						  </div> -->
						</div>
						
						
						<div class="form-group ">
						  <label for="gender">{{'commons.gender' | translation}}:</label>
						  	<div name="gender" ng-init="patient.gender='m'">
							    <label class="radio-inline" for="gender">
							      <input 
							      	type="radio" 
							      	name="gender" 
							      	id="gender1" 
							      	value="m" 
							      	checked="checked"
							      	ng-model="patient.gender">
							      {{'commons.man' | translation}}
							    </label> 
							    <label class="radio-inline" for="gender">
							      <input 
							      	type="radio" 
							      	name="gender" 
							      	id="gender2" 
							      	value="k"
							      	ng-model="patient.gender">
							      {{'commons.woman' | translation}}
							    </label> 
						  	</div>
						</div>
						
						
						<div class="form-group">
							<label for="pesel">{{'commons.pesel' | translation}}:<span class="required">*</span></label> 
								<input
									name="pesel"
									placeholder="{{'commons.pesel' | translation}}" 
									id="pesel" 
									value=""
									type="text"
									ng-model="patient.pesel"
									ng-class="{submitted:addPatientForm.submitted}"
									required
								>
								<span 
									ng-show="addPatientForm.pesel.$error.required  && addPatientForm.submitted" 
									style="color : #f00; float:left;">{{'commons.pesel_is_required' | translation}}
								</span>
						</div>
							
						<div class="form-group" >
							<label for="email" >E-mail:<span class="required">*</span></label> 
								<input
									name="email"
									required="required"
									placeholder="E-mail*" 
									id="email" 
									value="" 
									type="email"
									ng-model="patient.email"
									ng-class="{submitted:addPatientForm.submitted}"
								>
		        				<span 
		        					ng-show="addPatientForm.email.$error.required && addPatientForm.submitted" 
		        					style="color : #f00; float:left;"
		        					>{{'commons.email_is_required' | translation}}
		        				</span>
		        				<span 
		        					ng-show="addPatientForm.email.$error.email && addPatientForm.submitted" 
		        					style="color : #f00; float:left;"
		        					>{{'commons.incorrect_email' | translation}}
		        				</span>
						</div>
						
				</div>
				<div class="col-md-offset-1 col-md-4">
				
				
					<div class="form-group" >
						<label for="phone">{{'commons.phone' | translation}}:</label> 
						<input
							name="phone"
							placeholder="{{'commons.phone' | translation}}" 
							id="phone"
							value="" 
							type="text"
							ng-model="patient.phone"
						>
					</div>				
					<div class="form-group">
						<label for="street" >{{'commons.street' | translation}}:</label> 
						<input
							name="street"
							placeholder="{{'commons.street' | translation}}" 
							id="street"
							value="" 
							type="text"
							ng-model="patient.address"
						>
					</div>
					<div class="form-group">
						<label for="number">{{'commons.number' | translation}}:</label> 
						<input
							name="number" 
							placeholder="{{'commons.number' | translation}}" 
							id="number" 
							type="text"
							ng-model="patient.number"
						>
					</div>
					<div class="form-group" >
						<label for="city" >{{'commons.city' | translation}}:</label> 
						<input
							name="city"
							placeholder="{{'commons.city' | translation}}" 
							id="city"
							type="text"
							ng-model="patient.city"
						>
					</div>
					<div class="form-group">
						<label for="postCode " >{{'commons.postcode' | translation}}:<span class="required">*</span></label> 
						<input
							name="postCode"
							placeholder="{{'commons.postcode' | translation}}" 
							id="postcode"
							value="" type="text"
							ng-model="patient.postCode"
							ng-pattern="/^(\d{2}-\d{3})$/"
							ng-class="{submitted:addPatientForm.submitted}"
							required
						>
									<!-- 	ng-pattern="/^(\d{5}(-\d{4})?|[A-Z]\d[A-Z] *\d[A-Z]\d)$/" -->
	       				<span 
	       					ng-show="addPatientForm.postCode.$error.required && addPatientForm.submitted"
	       					style="color : #f00; float:left;"
	       					>{{'commons.postcode_is_required' | translation}}
	       				</span>
	       				<span 
	       					ng-show="addPatientForm.postCode.$error.pattern && addPatientForm.submitted"
	       					style="color : #f00; float:left;"
	       					>{{'commons.please_enter_valid_postcode' | translation}}
	       				</span>
					</div>
					<div class="form-group" >
						<label for="description" >{{'commons.additional_information' | translation}}:</label>
						<textarea name="description"
							class="form-control" 
							placeholder="{{'commons.additional_information' | translation}}"
							id="description" 
							style="height: 61px; 
							background: #f6f9fc;"
							ng-model="patient.description">
						</textarea>
						<p class="description">* {{'addPatient.enter_additional_patient_information' | translation}}</p>
					</div>
				</div>
			</div>
			<div class="row" style="padding-top:15px;">
				<div class="form-group" >
					<div class="text-center">
						<button type="submit" class="btn btn-primary" ng-click="addPatient(patient)">{{'commons.save' | translation}}</button>
					</div>
				</div>
			</div>
		</form>
	</div>
	
<style>
input.submitted.ng-invalid{
  border:2px solid #f00;
}
</style>
